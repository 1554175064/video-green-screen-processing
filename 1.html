<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="./dist/index.js"></script>
    <!-- <script src="./index.js"></script> -->
</head>

<body>
    <video id="player1" muted autoplay crossorigin="anonymous"
        src="https://metagc-cdn.aminer.cn/3dcreator/cb1f6ddc365b11eeaa76dfefc31bc2c5a9.mp4"
        style="width: 108px; height: 192px; position: relative"></video>
    <video id="player3" muted autoplay crossorigin="anonymous"
        src="https://metagc-cdn.aminer.cn/3dcreator/84e9c77c365f11ee920edfefc36aa9e86.mp4"
        style="width: 108px; height: 192px; position: relative"></video>
    <div id="player2" style="width: 108px; height: 192px; position: relative"></div>
    <button onclick="start()">start</button>
    <button onclick="set1()">set1</button>
    <button onclick="set2()">set2</button>
    <button onclick="destroy()">destroy</button>
</body>
<script>
    let player = new ProcessingVideo()
    const arr = [
        "https://metagc-cdn.aminer.cn/3dcreator/cb1f6ddc365b11eeaa76dfefc31bc2c5a9.mp4",
        "https://metagc-cdn.aminer.cn/3dcreator/84e9c77c365f11ee920edfefc36aa9e86.mp4",
        "https://metagc-cdn.aminer.cn/3dcreator/ae191bfa365f11ee94a2dfefc3389f94e0.mp4",
    ];


    const set1 = () => {
        player.setVideoSource('player3')
    }
    const set2 = () => {
        player.setVideoSource('player1')
    }
    const start = () => {
        player.initVideoScene({
            inputVideoId: 'player1',          // <video id="myvideo">
            outputVideoId: 'player2',          // <div id="output"></div>
            keyColor: '#0000ff',              // 抠像色, 支持字符串 或 [r,g,b]
            threshold: 80,                    // 色键容差
            pixelRatio: 3,                    // ThreeJS用
            enableFXAA: false,                // ThreeJS用
            renderType: 'canvas2d'                // 自动/ThreeJS/Canvas2d
        })
    }
    const destroy = () => {
        player.destroy()
    }

</script>

</html>